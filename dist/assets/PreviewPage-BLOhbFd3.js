import{r as c,j as e}from"./vendor-BEfqtVUe.js";import{c as l,B as g,R as f,r as j}from"./index-DsEmokA7.js";import{c as b,d as v,e as w,f as P,g as y,h as N,i as C,j as T,A,k as z}from"./ui-vendor-DQ8_5H5A.js";import{ag as F,ah as k}from"./lucide-react-NQr80gjg.js";import{u as D}from"./state-DlvjQ27R.js";import"./utils-DxjPgW5d.js";import"./router-24HdL0-o.js";const x=()=>{const r=c.useMemo(()=>{const t=navigator.userAgent.toLowerCase(),i=/safari/.test(t)&&!/chrome/.test(t),a=/chrome/.test(t)&&!/edg/.test(t),o=/firefox/.test(t),n=/edg/.test(t),d=/mobile|android|iphone|ipad/.test(t);return{isSafari:i,isChrome:a,isFirefox:o,isEdge:n,isMobile:d,userAgent:t}},[]);return{...r,getPrintTip:()=>{const{isChrome:t,isMobile:i}=r;return i?{tip:"💡 移动端建议在电脑上打开此页面进行打印或保存PDF",shortcut:""}:t?{tip:'💡 Chrome用户：点击打印按钮，目标打印机选择"另存为PDF"',shortcut:"Ctrl+P (Cmd+P)"}:{tip:"💡 点击打印按钮或使用快捷键打印简历，可选择保存为PDF",shortcut:"Ctrl+P (Cmd+P)"}}}},S=()=>{const{isChrome:r,isMobile:s}=x(),t=()=>s?"建议在电脑上打开以获得更好的打印效果":r?'Chrome - 建议使用浏览器的"打印"功能，目标选择"另存为PDF"':'建议使用最新版本Chrome浏览器的"打印"功能导出为 PDF';return e.jsxs("div",{className:"bg-gray-100 text-center py-6 text-gray-600 text-sm print:hidden",children:[e.jsxs("p",{children:["简历预览 - ",t()]}),e.jsx("p",{className:"mt-1",children:"调整浏览器打印设置可以获得更好的效果"})]})};function M({className:r,defaultValue:s,value:t,min:i=0,max:a=100,...o}){const n=c.useMemo(()=>Array.isArray(t)?t:Array.isArray(s)?s:[i,a],[t,s,i,a]);return e.jsxs(b,{"data-slot":"slider",defaultValue:s,value:t,min:i,max:a,className:l("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",r),...o,children:[e.jsx(v,{"data-slot":"slider-track",className:l("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:e.jsx(w,{"data-slot":"slider-range",className:l("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:n.length},(d,p)=>e.jsx(P,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] outline-none hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},p))]})}function R({delayDuration:r=0,...s}){return e.jsx(z,{"data-slot":"tooltip-provider",delayDuration:r,...s})}function m({...r}){return e.jsx(R,{children:e.jsx(y,{"data-slot":"tooltip",...r})})}function h({...r}){return e.jsx(N,{"data-slot":"tooltip-trigger",...r})}function u({className:r,sideOffset:s=0,children:t,...i}){return e.jsx(C,{children:e.jsxs(T,{"data-slot":"tooltip-content",sideOffset:s,className:l("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",r),...i,children:[t,e.jsx(A,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const B=({onPrint:r,scale:s,onScaleChange:t})=>{const{getPrintTip:i}=x(),{tip:a,shortcut:o}=i();return e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-blue-600 text-white p-3 text-center print:hidden",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("span",{className:"text-sm hidden md:inline-block",children:[a,o&&e.jsxs("span",{className:"ml-2 text-blue-200",children:["(",o,")"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm",children:"缩放比例"}),e.jsxs(m,{children:[e.jsx(h,{children:e.jsx(F,{className:"w-4 h-4 text-blue-200"})}),e.jsx(u,{children:e.jsx("p",{children:"缩放比例仅影响屏幕显示大小，不会改变实际PDF页数"})})]}),e.jsx(M,{defaultValue:[s],max:100,step:1,className:"w-20",onValueChange:n=>t(n[0])}),e.jsxs("span",{className:"ml-1",children:[s,"%"]})]}),e.jsxs(m,{children:[e.jsx(h,{children:e.jsxs(g,{onClick:r,variant:"outline",size:"sm",className:"bg-white text-blue-600 outline-none hover:bg-gray-100 focus:bg-gray-300",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"打印简历"]})}),e.jsxs(u,{children:[e.jsx("p",{children:"记得选择[关闭页眉和页脚]"}),e.jsx("p",{children:"若想要将简历缩减为1页，可以考虑将边距设置为无"})]})]})]})})})},E=()=>{const[r,s]=c.useState(100);return{scale:r,setScale:s,onScaleChange:i=>{s(i)}}},_=()=>{const r=D(j),{scale:s,onScaleChange:t}=E(),i=()=>{window.print()};return e.jsxs("div",{className:"min-h-screen bg-gray-50 print:bg-white",children:[e.jsx(B,{onPrint:i,scale:s,onScaleChange:t}),e.jsx(f,{resume:r,isEditable:!1,scale:s,className:"flex justify-center mx-auto p-4 bg-white min-h-screen print:p-2"}),e.jsx(S,{})]})},K=()=>e.jsx(_,{});export{K as PreviewPage};
